{"ast":null,"code":"import _slicedToArray from \"/Users/reda17qlf/Taff/UPSemester1/DesalloroApplicationWeb/lastExam/test/lastExam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/reda17qlf/Taff/UPSemester1/DesalloroApplicationWeb/lastExam/test/lastExam/client/src/components/Search/Search.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Result from \"./Result\";\nimport InputRange from \"react-input-range\";\nimport \"react-input-range/lib/css/index.css\"; // import flightData from \"../data\";\n\nfunction Search() {\n  const _useState = useState(\"oneWay\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        btnType = _useState2[0],\n        setbtnType = _useState2[1];\n\n  const _useState3 = useState(1),\n        _useState4 = _slicedToArray(_useState3, 2),\n        passengerCount = _useState4[0],\n        setPassengerCount = _useState4[1];\n\n  const _useState5 = useState(10000),\n        _useState6 = _slicedToArray(_useState5, 2),\n        priceRange = _useState6[0],\n        setPriceRange = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        bookReturn = _useState8[0],\n        setBookReturn = _useState8[1];\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        originCity = _useState10[0],\n        setOriginCity = _useState10[1];\n\n  const _useState11 = useState(\"\"),\n        _useState12 = _slicedToArray(_useState11, 2),\n        destinationCity = _useState12[0],\n        setDestinationCity = _useState12[1];\n\n  const _useState13 = useState(\"\"),\n        _useState14 = _slicedToArray(_useState13, 2),\n        departureDate = _useState14[0],\n        setDepartureDate = _useState14[1];\n\n  const _useState15 = useState(\"\"),\n        _useState16 = _slicedToArray(_useState15, 2),\n        returnDate = _useState16[0],\n        setReturnDate = _useState16[1];\n\n  const _useState17 = useState([]),\n        _useState18 = _slicedToArray(_useState17, 2),\n        filteredData = _useState18[0],\n        setFilteredData = _useState18[1];\n\n  const _useState19 = useState(false),\n        _useState20 = _slicedToArray(_useState19, 2),\n        isSearchClicked = _useState20[0],\n        setIsSearchClicked = _useState20[1];\n\n  const _useState21 = useState([]),\n        _useState22 = _slicedToArray(_useState21, 2),\n        returnFilterData = _useState22[0],\n        setReturnFilterData = _useState22[1];\n\n  const bookType = [{\n    name: \"One way\",\n    id: \"oneWay\"\n  }, {\n    name: \"Return\",\n    id: \"return\"\n  }];\n\n  const handleBookType = id => {\n    setbtnType(id);\n\n    if (id === \"oneWay\") {\n      setIsSearchClicked(false);\n      setBookReturn(false);\n      setReturnDate(\"\");\n    } else if (id === \"return\") {\n      setIsSearchClicked(false);\n      setBookReturn(true);\n    }\n  };\n\n  const handleCount = key => {\n    if (key === \"add\") {\n      if (passengerCount >= 5) {\n        return;\n      }\n\n      setPassengerCount(passengerCount + 1);\n    } else if (key === \"less\") {\n      if (passengerCount === 1) {\n        return;\n      }\n\n      setPassengerCount(passengerCount - 1);\n    }\n  };\n\n  const handleFocus = e => {\n    e.currentTarget.type = \"date\";\n  };\n\n  const handleBlur = e => {\n    e.currentTarget.type = \"text\";\n  }; // useEffect(() => {\n  //   handleFilter();\n  //   returnFilter();\n  // }, [priceRange]);\n  // const handleFilter = () => {\n  //   let result = flightData.filter((data) => {\n  //     if (\n  //       data &&\n  //       data.from.city &&\n  //       data.to.city &&\n  //       data.from.city\n  //         .toLowerCase()\n  //         .includes(originCity.trim().toLowerCase()) &&\n  //       data.to.city\n  //         .toLowerCase()\n  //         .includes(destinationCity.trim().toLowerCase()) &&\n  //       data.depart === departureDate &&\n  //       data.price <= priceRange\n  //     ) {\n  //       return data;\n  //     }\n  //   });\n  //   setFilteredData(result);\n  // };\n  // const returnFilter = () => {\n  //   let result = flightData.filter((data) => {\n  //     if (\n  //       data &&\n  //       data.from &&\n  //       data.from.city &&\n  //       data.from.city\n  //         .toLowerCase()\n  //         .includes(destinationCity.trim().toLowerCase()) &&\n  //       data.to &&\n  //       data.to.city &&\n  //       data.to.city.toLowerCase().includes(originCity.trim().toLowerCase()) &&\n  //       data.depart === returnDate &&\n  //       data.price <= priceRange\n  //     ) {\n  //       return data;\n  //     }\n  //   });\n  //   setReturnFilterData(result);\n  // };\n\n\n  const handleSearch = () => {\n    if (bookReturn && !returnDate) {\n      alert(\"Return date can't be empty!\");\n    } else if (!originCity) {\n      alert(\"Origin city can't be empty!\");\n    } else if (!destinationCity) {\n      alert(\"Destination city can't be empty!\");\n    } else if (!departureDate) {\n      alert(\"Departure date can't be empty!\");\n    }\n\n    if (originCity && destinationCity && departureDate) {\n      console.log(); // setIsSearchClicked(true);\n      // handleFilter();\n\n      if (bookReturn && returnDate) {// returnFilter();\n      }\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row mt-4 ml-5 mr-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"btn-group d-flex justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, bookType.map(type => {\n    return React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn \".concat(btnType === type.id ? \"active_btn\" : \"\"),\n      key: type.id,\n      onClick: () => handleBookType(type.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, type.name);\n  })), React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter origin city\",\n    className: \"form-control mt-4\",\n    onChange: e => setOriginCity(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter destination city\",\n    className: \"form-control mt-2\",\n    onChange: e => setDestinationCity(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter departure date\",\n    className: \"form-control mt-2\",\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onChange: e => setDepartureDate(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }), btnType === \"return\" ? React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter return date\",\n    className: \"form-control mt-2\",\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onChange: e => setReturnDate(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }) : null, React.createElement(\"div\", {\n    className: \"d-flex justify-content-center mt-2\",\n    style: {\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary mr-2\",\n    onClick: () => handleCount(\"less\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, \"-\"), React.createElement(\"div\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, passengerCount, \" passengers\"), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary ml-2\",\n    onClick: () => handleCount(\"add\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, \"+\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn search_btn\",\n    onClick: handleSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, \"Search\"))))), React.createElement(\"div\", {\n    className: \"card mt-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      marginBottom: \".7rem\",\n      fontWeight: \"bold\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, \"Refine flight search\"), React.createElement(\"div\", {\n    className: \"mt-4 mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, React.createElement(InputRange, {\n    minValue: 0,\n    step: 100,\n    maxValue: 10000,\n    formatLabel: price => \"\".concat(price),\n    value: priceRange,\n    onChange: price => setPriceRange(price),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }))))))), React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  }, React.createElement(Result, {\n    filteredData: filteredData,\n    bookReturn: bookReturn,\n    isSearchClicked: isSearchClicked,\n    returnFilterData: returnFilterData,\n    passengerCount: passengerCount,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }))));\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/reda17qlf/Taff/UPSemester1/DesalloroApplicationWeb/lastExam/test/lastExam/client/src/components/Search/Search.js"],"names":["React","useEffect","useState","Result","InputRange","Search","btnType","setbtnType","passengerCount","setPassengerCount","priceRange","setPriceRange","bookReturn","setBookReturn","originCity","setOriginCity","destinationCity","setDestinationCity","departureDate","setDepartureDate","returnDate","setReturnDate","filteredData","setFilteredData","isSearchClicked","setIsSearchClicked","returnFilterData","setReturnFilterData","bookType","name","id","handleBookType","handleCount","key","handleFocus","e","currentTarget","type","handleBlur","handleSearch","alert","console","log","map","target","value","alignItems","marginBottom","fontWeight","price"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Result from \"./Result\";\nimport InputRange from \"react-input-range\";\nimport \"react-input-range/lib/css/index.css\";\n// import flightData from \"../data\";\n\nfunction Search() {\n  const [btnType, setbtnType] = useState(\"oneWay\");\n  const [passengerCount, setPassengerCount] = useState(1);\n  const [priceRange, setPriceRange] = useState(10000);\n\n  const [bookReturn, setBookReturn] = useState(false);\n  const [originCity, setOriginCity] = useState(\"\");\n  const [destinationCity, setDestinationCity] = useState(\"\");\n  const [departureDate, setDepartureDate] = useState(\"\");\n  const [returnDate, setReturnDate] = useState(\"\");\n  const [filteredData, setFilteredData] = useState([]);\n\n  const [isSearchClicked, setIsSearchClicked] = useState(false);\n  const [returnFilterData, setReturnFilterData] = useState([]);\n\n  const bookType = [\n    {\n      name: \"One way\",\n      id: \"oneWay\",\n    },\n    {\n      name: \"Return\",\n      id: \"return\",\n    },\n  ];\n\n  const handleBookType = (id) => {\n    setbtnType(id);\n    if (id === \"oneWay\") {\n      setIsSearchClicked(false);\n      setBookReturn(false);\n      setReturnDate(\"\");\n    } else if (id === \"return\") {\n      setIsSearchClicked(false);\n      setBookReturn(true);\n    }\n  };\n\n  const handleCount = (key) => {\n    if (key === \"add\") {\n      if (passengerCount >= 5) {\n        return;\n      }\n      setPassengerCount(passengerCount + 1);\n    } else if (key === \"less\") {\n      if (passengerCount === 1) {\n        return;\n      }\n      setPassengerCount(passengerCount - 1);\n    }\n  };\n\n  const handleFocus = (e) => {\n    e.currentTarget.type = \"date\";\n  };\n  const handleBlur = (e) => {\n    e.currentTarget.type = \"text\";\n  };\n\n  // useEffect(() => {\n  //   handleFilter();\n  //   returnFilter();\n  // }, [priceRange]);\n\n  // const handleFilter = () => {\n  //   let result = flightData.filter((data) => {\n  //     if (\n  //       data &&\n  //       data.from.city &&\n  //       data.to.city &&\n  //       data.from.city\n  //         .toLowerCase()\n  //         .includes(originCity.trim().toLowerCase()) &&\n  //       data.to.city\n  //         .toLowerCase()\n  //         .includes(destinationCity.trim().toLowerCase()) &&\n  //       data.depart === departureDate &&\n  //       data.price <= priceRange\n  //     ) {\n  //       return data;\n  //     }\n  //   });\n  //   setFilteredData(result);\n  // };\n  // const returnFilter = () => {\n  //   let result = flightData.filter((data) => {\n  //     if (\n  //       data &&\n  //       data.from &&\n  //       data.from.city &&\n  //       data.from.city\n  //         .toLowerCase()\n  //         .includes(destinationCity.trim().toLowerCase()) &&\n  //       data.to &&\n  //       data.to.city &&\n  //       data.to.city.toLowerCase().includes(originCity.trim().toLowerCase()) &&\n  //       data.depart === returnDate &&\n  //       data.price <= priceRange\n  //     ) {\n  //       return data;\n  //     }\n  //   });\n  //   setReturnFilterData(result);\n  // };\n\n  const handleSearch = () => {\n    if (bookReturn && !returnDate) {\n      alert(\"Return date can't be empty!\");\n    } else if (!originCity) {\n      alert(\"Origin city can't be empty!\");\n    } else if (!destinationCity) {\n      alert(\"Destination city can't be empty!\");\n    } else if (!departureDate) {\n      alert(\"Departure date can't be empty!\");\n    }\n    if (originCity && destinationCity && departureDate) {\n      console.log()\n      // setIsSearchClicked(true);\n      // handleFilter();\n      if (bookReturn && returnDate) {\n        // returnFilter();\n      }\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"row mt-4 ml-5 mr-5\">\n        <div className=\"col-md-4\">\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"btn-group d-flex justify-content-center\">\n                    {bookType.map((type) => {\n                      return (\n                        <button\n                          type=\"button\"\n                          className={`btn ${\n                            btnType === type.id ? \"active_btn\" : \"\"\n                          }`}\n                          key={type.id}\n                          onClick={() => handleBookType(type.id)}\n                        >\n                          {type.name}\n                        </button>\n                      );\n                    })}\n                  </div>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Enter origin city\"\n                    className=\"form-control mt-4\"\n                    onChange={(e) => setOriginCity(e.target.value)}\n                  />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Enter destination city\"\n                    className=\"form-control mt-2\"\n                    onChange={(e) => setDestinationCity(e.target.value)}\n                  />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Enter departure date\"\n                    className=\"form-control mt-2\"\n                    onFocus={handleFocus}\n                    onBlur={handleBlur}\n                    onChange={(e) => setDepartureDate(e.target.value)}\n                  />\n                  {btnType === \"return\" ? (\n                    <input\n                      type=\"text\"\n                      placeholder=\"Enter return date\"\n                      className=\"form-control mt-2\"\n                      onFocus={handleFocus}\n                      onBlur={handleBlur}\n                      onChange={(e) => setReturnDate(e.target.value)}\n                    />\n                  ) : null}\n                  <div\n                    className=\"d-flex justify-content-center mt-2\"\n                    style={{ alignItems: \"center\" }}\n                  >\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary mr-2\"\n                      onClick={() => handleCount(\"less\")}\n                    >\n                      -\n                    </button>\n                    <div className=\"text-muted\">\n                      {passengerCount} passengers\n                    </div>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary ml-2\"\n                      onClick={() => handleCount(\"add\")}\n                    >\n                      +\n                    </button>\n                  </div>\n                  <div>\n                    <button\n                      type=\"button\"\n                      className=\"btn search_btn\"\n                      onClick={handleSearch}\n                    >\n                      <b>Search</b>\n                    </button>\n                  </div>\n                </div>\n              </div>\n              <div className=\"card mt-4\">\n                <div className=\"card-body\">\n                  <div\n                    style={{\n                      marginBottom: \".7rem\",\n                      fontWeight: \"bold\",\n                    }}\n                  >\n                    Refine flight search\n                  </div>\n                  <div className=\"mt-4 mb-4\">\n                    <InputRange\n                      minValue={0}\n                      step={100}\n                      maxValue={10000}\n                      formatLabel={(price) => `${price}`}\n                      value={priceRange}\n                      onChange={(price) => setPriceRange(price)}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-8\">\n          <Result\n            filteredData={filteredData}\n            bookReturn={bookReturn}\n            isSearchClicked={isSearchClicked}\n            returnFilterData={returnFilterData}\n            passengerCount={passengerCount}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}